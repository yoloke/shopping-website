"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[692],{1692:function(e,r,t){t.r(r),t.d(r,{default:function(){return u}});var s=function(){var e=this,r=e._self._c;return r("div",{staticClass:"register-container"},[r("div",{staticClass:"register"},[r("h3",[e._v(" 注册新用户"),r("span",{staticClass:"go"},[e._v("我有账号，去 "),r("router-link",{attrs:{to:"/login"}},[e._v("登陆")])],1)]),r("div",{staticClass:"a"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.phone,callback:function(r){e.$set(e.ruleForm,"phone",r)},expression:"ruleForm.phone"}})],1),r("el-form-item",{attrs:{label:"验证码",prop:"code",inline:!0}},[r("el-input",{model:{value:e.ruleForm.code,callback:function(r){e.$set(e.ruleForm,"code",r)},expression:"ruleForm.code"}}),r("el-button",{on:{click:e.getCode}},[e._v("获取验证码")])],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(r){e.$set(e.ruleForm,"checkPass",r)},expression:"ruleForm.checkPass"}})],1),r("el-form-item",{attrs:{prop:"agree"}},[r("el-checkbox",{attrs:{label:"同意协议并注册《掌上豹用户协议》",name:"type"},model:{value:e.ruleForm.agree,callback:function(r){e.$set(e.ruleForm,"agree",r)},expression:"ruleForm.agree"}})],1),r("div",{staticClass:"ab"},[r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("提交")]),r("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)]),e._m(0)])},o=[function(){var e=this,r=e._self._c;return r("div",{staticClass:"copyright"},[r("ul",[r("li",[e._v("关于我们")]),r("li",[e._v("联系我们")]),r("li",[e._v("联系客服")]),r("li",[e._v("商家入驻")]),r("li",[e._v("营销中心")]),r("li",[e._v("手机掌上豹")]),r("li",[e._v("销售联盟")]),r("li",[e._v("掌上豹社区")])]),r("div",{staticClass:"address"},[e._v("地址：深圳市南山区科技园综合楼6层")]),r("div",{staticClass:"beian"},[e._v("DCP备190887730号")])])}],l=(t(1703),{name:"Register",data(){var e=(e,r,t)=>{""===r?t(new Error("请输入手机号")):(this.isCellPhone(r)||t(new Error("请输入正确的手机号")),t())},r=(e,r,t)=>{""===r?t(new Error("请输入密码")):(""!==this.ruleForm.checkPass&&this.$refs.ruleForm.validateField("checkPass"),t())},t=(e,r,t)=>{""===r?t(new Error("请再次输入密码")):r!==this.ruleForm.password?t(new Error("两次输入密码不一致!")):t()},s=(e,r,t)=>{r=this.ruleForm.agree,r?t():t(new Error("请勾选同意协议"))};return{ruleForm:{phone:"15362304491",password:"",checkPass:"",code:"",agree:!0},rules:{password:[{validator:r,trigger:"blur"}],checkPass:[{validator:t,trigger:"blur"}],phone:[{validator:e,trigger:"blur"}],agree:[{validator:s,trigger:"blur"}],code:[{required:!0,message:"验证码不能为空",trigger:"change"}]}}},methods:{isCellPhone(e){return!!/^1(3|4|5|6|7|8)\d{9}$/.test(e)},async getCode(){if(this.ruleForm.phone)try{await this.$store.dispatch("user/getCode",this.ruleForm.phone),this.ruleForm.code=this.$store.state.user.code}catch(e){}},submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;this.register()}))},async register(){const{phone:e,code:r,password:t,checkPass:s}=this.ruleForm;console.log(e,r,t,s);try{await this.$store.dispatch("user/registerUser",{phone:e,code:r,password:t}),this.$router.push("/login")}catch(o){alert(o.message)}},resetForm(e){this.$refs[e].resetFields()}}}),a=l,i=t(1001),c=(0,i.Z)(a,s,o,!1,null,"126f7a01",null),u=c.exports}}]);